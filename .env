# -----------------------------------------------------------------------------
# Portfolio Backtester environment example
# Copy this file to `.env` (and optionally to `app/.env.local`) and replace the
# placeholder values with the credentials for your deployment target.
# -----------------------------------------------------------------------------

# ----- FastAPI service -------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_LOG_LEVEL=info

# Database credentials used by both FastAPI (SQLAlchemy) and Next.js (Prisma).
# Prisma expects the canonical `postgresql://` form. The FastAPI layer will
# automatically adapt this value to use the psycopg driver internally.
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=portfolio
POSTGRES_PASSWORD=portfolio
POSTGRES_DB=portfolio
# When running everything via Docker Compose, keep the host as `postgres`. For
# direct hosting on a VM or bare metal, change it to wherever Postgres runs.
DATABASE_URL=postgresql://portfolio:portfolio@postgres:5432/portfolio

# Object storage for uploaded TradingView CSV files (MinIO or S3 compatible).
# Bucket names must stay lowercase and use only letters, numbers, dots, or hyphens.
S3_ENDPOINT_URL=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=portfolio-uploads

# Allowed browser origins for CORS when the API is served directly.
# Multiple origins can be supplied as a comma-separated list.
CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Portfolio sizing defaults and plan limits (adjust to taste).
TOTAL_CAPITAL_DEFAULT=100000
FREE_MAX_FILES=5
PRO_MAX_FILES=25
ENTERPRISE_MAX_FILES=100
FREE_RUNS_PER_DAY=1
PRO_RUNS_PER_DAY=20
ENTERPRISE_RUNS_PER_DAY=1000

# ----- Next.js / NextAuth authentication -------------------------------------
NEXTAUTH_SECRET=please-change-me
NEXTAUTH_URL=http://localhost:3000

# OAuth providers (optional – enable the ones you use).
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_ID=
GITHUB_SECRET=

# SMTP provider for passwordless email login (optional).
EMAIL_SERVER_HOST=
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER=
EMAIL_SERVER_PASSWORD=
EMAIL_FROM=no-reply@example.com

# ----- Frontend ↔ Backend communication --------------------------------------
# Used by the frontend to call the FastAPI service directly or through the
# proxy route. When deploying behind HTTPS, update these to the public origin.
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000/
FASTAPI_URL=http://localhost:8000

# Base URL consumed by the Playwright smoke tests.
E2E_BASE_URL=http://localhost:3000
